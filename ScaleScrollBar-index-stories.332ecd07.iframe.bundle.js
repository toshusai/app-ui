"use strict";(self.webpackChunk_toshusai_app_ui=self.webpackChunk_toshusai_app_ui||[]).push([[453],{"./src/ScaleScrollBar/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),getDragHander=__webpack_require__("./src/utils/getDragHander.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const ScaleScrollBar=props=>{const ref=(0,react.useRef)(null),handleMouseDownLeftHandle=(0,getDragHander.j)((({diffX})=>{let newStart=Math.max(props.start+diffX/ref.current.clientWidth,0);const mimumWidthRate=minimumWidthPx/(ref.current?.clientWidth??0);props.end-newStart<mimumWidthRate&&(newStart=props.end-mimumWidthRate),props.onScaleChange?.(newStart,props.end)})),handleMouseDownRightHandle=(0,getDragHander.j)((({diffX})=>{let newEnd=Math.min(props.end+diffX/ref.current.clientWidth,1);const mimumWidthRate=minimumWidthPx/(ref.current?.clientWidth??0);newEnd-props.start<mimumWidthRate&&(newEnd=props.start+mimumWidthRate),props.onScaleChange?.(props.start,newEnd)})),handleMouseDownStrip=(0,getDragHander.j)((({diffX})=>{const newStart=props.start+diffX/ref.current.clientWidth,newEnd=props.end+diffX/ref.current.clientWidth;newStart<0?props.onScaleChange?.(0,newEnd-newStart):newEnd>1?props.onScaleChange?.(newStart-(newEnd-1),1):props.onScaleChange?.(newStart,newEnd)})),minimumWidthPx=17;return(0,jsx_runtime.jsxs)("div",{ref,style:{width:"100%",minHeight:"10px",backgroundColor:"var(--color-input-background)",userSelect:"none",border:"1px solid var(--color-input-background)",boxSizing:"border-box",position:"relative"},children:[(0,jsx_runtime.jsx)("div",{style:{position:"absolute",top:"20px"}}),(0,jsx_runtime.jsxs)("div",{style:{position:"absolute",left:`calc(${100*props.start}%)`,width:`calc(${100*(props.end-props.start)}%)`,minWidth:`${minimumWidthPx}px`,height:"8px",backgroundColor:"var(--color-border)"},onMouseDown:handleMouseDownStrip,children:[(0,jsx_runtime.jsx)(ScaleScrollBarHandle,{onMouseDown:handleMouseDownLeftHandle,style:{left:"0px"}}),(0,jsx_runtime.jsx)(ScaleScrollBarHandle,{onMouseDown:handleMouseDownRightHandle,style:{right:"0px"}})]})]})};ScaleScrollBar.displayName="ScaleScrollBar";const ScaleScrollBarHandle=styled_components_browser_esm.ZP.div`
  position: absolute;
  top: 0;
  bottom: 0;
  width: 8px;
  height: 8px;
  background-color: #3a3a3a;
  cursor: pointer;
`,MemoScaleScrollBar=null;try{ScaleScrollBar.displayName="ScaleScrollBar",ScaleScrollBar.__docgenInfo={description:"",displayName:"ScaleScrollBar",props:{start:{defaultValue:null,description:"",name:"start",required:!0,type:{name:"number"}},end:{defaultValue:null,description:"",name:"end",required:!0,type:{name:"number"}},onScaleChange:{defaultValue:null,description:"",name:"onScaleChange",required:!1,type:{name:"((start: number, end: number) => void)"}},minimumRange:{defaultValue:null,description:"",name:"minimumRange",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ScaleScrollBar/index.tsx#ScaleScrollBar"]={docgenInfo:ScaleScrollBar.__docgenInfo,name:"ScaleScrollBar",path:"src/ScaleScrollBar/index.tsx#ScaleScrollBar"})}catch(__react_docgen_typescript_loader_error){}try{MemoScaleScrollBar.displayName="MemoScaleScrollBar",MemoScaleScrollBar.__docgenInfo={description:"",displayName:"MemoScaleScrollBar",props:{start:{defaultValue:null,description:"",name:"start",required:!0,type:{name:"number"}},end:{defaultValue:null,description:"",name:"end",required:!0,type:{name:"number"}},onScaleChange:{defaultValue:null,description:"",name:"onScaleChange",required:!1,type:{name:"((start: number, end: number) => void)"}},minimumRange:{defaultValue:null,description:"",name:"minimumRange",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ScaleScrollBar/index.tsx#MemoScaleScrollBar"]={docgenInfo:MemoScaleScrollBar.__docgenInfo,name:"MemoScaleScrollBar",path:"src/ScaleScrollBar/index.tsx#MemoScaleScrollBar"})}catch(__react_docgen_typescript_loader_error){}const index_stories={component:ScaleScrollBar,argTypes:{}},Primary={args:{end:.5,start:0},render:args=>{const[start,setStart]=(0,react.useState)(args.start),[end,setEnd]=(0,react.useState)(args.end);return(0,jsx_runtime.jsxs)("div",{style:{width:"256px"},children:[(0,jsx_runtime.jsxs)("div",{children:["start: ",start]}),(0,jsx_runtime.jsxs)("div",{children:["end: ",end]}),(0,jsx_runtime.jsxs)("div",{children:["length: ",end-start]}),(0,jsx_runtime.jsx)(ScaleScrollBar,{start,end,onScaleChange:(start,end)=>{setStart(start),setEnd(end)}})]})}};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:'{\n  args: {\n    end: 0.5,\n    start: 0\n  },\n  render: args => {\n    const [start, setStart] = useState(args.start);\n    const [end, setEnd] = useState(args.end);\n    return <div style={{\n      width: "256px"\n    }}>\n        <div>start: {start}</div>\n        <div>end: {end}</div>\n        <div>length: {end - start}</div>\n        <ScaleScrollBar start={start} end={end} onScaleChange={(start, end) => {\n        setStart(start);\n        setEnd(end);\n      }} />\n      </div>;\n  }\n}',...Primary.parameters?.docs?.source}}};const __namedExportsOrder=["Primary"]},"./src/utils/getDragHander.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>getDragHander,z:()=>useDragHandler});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useDragHandler(cb,onDown,onUp){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>getDragHander(cb,onDown,onUp)),[cb,onDown,onUp])}function getDragHander(cb,onDown,onUp){return downEvent=>{const pass=onDown?.({startX:0,startY:0,diffX:0,diffY:0,startEvent:downEvent.nativeEvent,event:downEvent.nativeEvent});downEvent.stopPropagation();const startX=downEvent.clientX,startY=downEvent.clientY;let movePass;const handleMouseMove=e=>{const diffX=e.clientX-startX,diffY=e.clientY-startY;movePass=cb({startX,startY,diffX,diffY,startEvent:downEvent.nativeEvent,pass,event:e})},handleMouseUp=e=>{const diffX=e.clientX-startX,diffY=e.clientY-startY;onUp?.({startX,startY,diffX,diffY,startEvent:e,pass,movePass,event:e}),window.removeEventListener("mousemove",handleMouseMove),window.removeEventListener("mouseup",handleMouseUp)};window.addEventListener("mousemove",handleMouseMove),window.addEventListener("mouseup",handleMouseUp)}}}}]);
//# sourceMappingURL=ScaleScrollBar-index-stories.332ecd07.iframe.bundle.js.map