{"version":3,"file":"ToolBarMenu-ToolBarMenu-stories.d47cd08b.iframe.bundle.js","mappings":";;;;AAyBA;;;AAIA;AAGA;;;;;;;;ACpBA;;;;;;;ACEA;AACA;;;AAGA;;;ACdA;;;;;;;;;AASA;;;;ACSA;AACA;;;;;;;AASA","sources":["webpack://@toshusai/app-ui/./src/Menu/MenuItemBase.tsx","webpack://@toshusai/app-ui/./src/Menu/MenuItem.tsx","webpack://@toshusai/app-ui/./src/Popover/Popover.tsx","webpack://@toshusai/app-ui/./src/ToolBarMenu/ToolBarButton.tsx","webpack://@toshusai/app-ui/./src/context_menu/ContextMenu.tsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport function MenuItemBase(props: {\n  leftIcon?: React.ReactNode;\n  text: string;\n  children?: React.ReactNode;\n}) {\n  return (\n    <Root>\n      <Flex>\n        {props.leftIcon}\n        <MenuItemWrapper $hasLeftIcon={props.leftIcon !== undefined}>\n          {props.text}\n        </MenuItemWrapper>\n      </Flex>\n      {props.children}\n    </Root>\n  );\n}\nconst Root = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n`;\n\nconst Flex = styled.div`\n  display: flex;\n  gap: 2px;\n`;\nconst MenuItemWrapper = styled.div<{\n  $hasLeftIcon: boolean;\n}>`\n  padding-left: ${(props) => (props.$hasLeftIcon ? 0 : 12)}px;\n  padding-right: 8px;\n`;\n","import styled from \"styled-components\";\n\nimport { MenuItemBase } from \"./MenuItemBase\";\n\nconst MenuItemShortcut = styled.div`\n  color: rgba(255, 255, 255, 0.5);\n  display: flex;\n  white-space: nowrap;\n  justify-content: space-between;\n  padding-right: 12px;\n`;\n\nexport function MenuItem(props: {\n  leftIcon?: React.ReactNode;\n  text: string;\n  shortcut?: string;\n}) {\n  return (\n    <MenuItemBase text={props.text} leftIcon={props.leftIcon}>\n      <MenuItemShortcut>{props.shortcut}</MenuItemShortcut>\n    </MenuItemBase>\n  );\n}\n","import styled from \"styled-components\";\nimport {\n  COLOR_BACKGROUND_2_NAME,\n  COLOR_BACKGROUND_NAME,\n  COLOR_BORDER_NAME,\n} from \"../GlobalStyle\";\n\nexport const Popover = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  z-index: 10000;\n  top: 16px;\n  left: 0;\n  background-color: var(${COLOR_BACKGROUND_NAME});\n  border: 1px solid var(${COLOR_BORDER_NAME});\n  border-radius: 4px;\n  padding: 4px;\n  box-shadow: 0px 0px 4px 0px var(${COLOR_BACKGROUND_2_NAME});\n  white-space: nowrap;\n`;\n","import styled from \"styled-components\";\nimport { COLOR_BACKGROUND_2_NAME, COLOR_BACKGROUND_NAME } from \"../GlobalStyle\";\n\nexport const ToolBarButton = styled.button`\n  background-color: var(${COLOR_BACKGROUND_2_NAME});\n  color: var(--color-text);\n  border: 0;\n  padding: 2px 8px;\n  height: 16px;\n  font-size: 12px;\n  font-family: \"Ricty Diminished\";\n  cursor: pointer;\n  :hover {\n    background-color: var(${COLOR_BACKGROUND_NAME});\n  }\n`;\n","import React, { PropsWithChildren, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { COLOR_BACKGROUND_2_NAME, COLOR_BORDER_NAME } from \"../GlobalStyle\";\n\ninterface ContextMenuProps {\n  show: boolean;\n  e?: React.MouseEvent<HTMLDivElement, MouseEvent>;\n  onClose: () => void;\n}\n\nconst StyledDiv = styled.div.attrs<{\n  x: number;\n  y: number;\n}>((p) => {\n  return {\n    style: {\n      left: p.x + \"px\",\n      top: p.y + \"px\",\n    },\n  };\n})<{ x: number; y: number }>`\n  position: fixed;\n  background-color: var(${COLOR_BACKGROUND_2_NAME});\n  border: 1px solid var(${COLOR_BORDER_NAME});\n  color: var(--color-text);\n  font-size: 12px;\n  line-height: 12px;\n  border-radius: 4px;\n  padding: 4px 4px;\n  z-index: 10000;\n`;\n\nexport const ContextMenu: React.FC<PropsWithChildren<ContextMenuProps>> = (\n  props\n) => {\n  const ref = useRef<HTMLDivElement>(null);\n  if (!props.show) return null;\n  const mouseDown = (e: MouseEvent) => {\n    if (ref.current?.contains(e.target as Node)) {\n      return;\n    }\n    props.onClose();\n    window.removeEventListener(\"mousedown\", mouseDown);\n  };\n  window.addEventListener(\"mousedown\", mouseDown);\n  return (\n    <>\n      <Overlay />\n      <StyledDiv x={props.e?.pageX ?? 0} y={props.e?.pageY || 0} ref={ref}>\n        {props.children}\n      </StyledDiv>\n    </>\n  );\n};\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 1000;\n  background-color: rgba(0, 0, 0, 0.1);\n`;\n"],"names":[],"sourceRoot":""}